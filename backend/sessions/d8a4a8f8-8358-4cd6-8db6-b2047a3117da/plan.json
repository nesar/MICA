{
  "reasoning": "# \ud83d\udccb Analysis Plan: Chat History Tagging\n\n## Objective\nAnalyze the chat history content and generate appropriate broad and specific tags in JSON format.\n\n---\n\n## Step-by-Step Execution Plan\n\n### **Step 1: Content Analysis**\n- **Tool:** `code_agent`\n- **Input:** Raw chat history text\n- **Action:** Parse and analyze the conversation structure, identify:\n  - Main topic discussed (critical materials comparison)\n  - Domains mentioned (geology, resources, territories)\n  - Technical elements (analysis tools, methodologies)\n  - Language used (English)\n- **Expected Output:** Structured content summary with keyword frequency and thematic clusters\n\n### **Step 2: Identify Broad Domain Tags**\n- **Tool:** `code_agent`\n- **Input:** Content summary from Step 1\n- **Action:** Map conversation themes to high-level domains:\n  - Science (geological resources, critical materials)\n  - Technology (AI analysis system, data tools)\n  - Government (strategic resource assessment, federal context)\n- **Expected Output:** Ranked list of 2-3 primary domain tags\n\n### **Step 3: Extract Specific Subtopic Tags**\n- **Tool:** `code_agent`\n- **Input:** Content summary and domain tags from Steps 1-2\n- **Action:** Identify specific subfields/topics:\n  - Critical minerals/materials\n  - Geological comparison\n  - Resource assessment\n  - U.S. territories (Puerto Rico, Hawaii)\n- **Expected Output:** Ranked list of 2-3 specific subtopic tags\n\n### **Step 4: Validate Tag Selection**\n- **Tool:** `code_agent`\n- **Input:** Proposed tags from Steps 2-3\n- **Action:** Check against guidelines:\n  - Chat length sufficient (>3 messages) \u2713\n  - Content focused (not too diverse) \u2713\n  - Accuracy prioritized over specificity \u2713\n  - English language \u2713\n- **Expected Output:** Validated final tag list (4-6 tags total)\n\n### **Step 5: Generate JSON Output**\n- **Tool:** `code_agent`\n- **Input:** Validated tags from Step 4\n- **Action:** Format tags into required JSON structure:\n  ```json\n  { \"tags\": [\"broad_tag1\", \"broad_tag2\", \"specific_tag1\", \"specific_tag2\"] }\n  ```\n- **Expected Output:** Properly formatted JSON response\n\n---\n\n## Estimated Execution Time\n- **Total Steps:** 5\n- **Estimated Duration:** 2-3 minutes\n- **Complexity:** Low (simple categorization task)\n\n---\n\n**Reply 'approve' to execute this plan, or 'reject' to modify.**",
  "steps": [],
  "estimated_tools": []
}