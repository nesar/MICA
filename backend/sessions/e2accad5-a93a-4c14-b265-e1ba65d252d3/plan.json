{
  "reasoning": "# \ud83d\udccb Analysis Plan: Chat History Tag Generation\n\n## Objective\nGenerate 1-3 broad thematic tags and 1-3 specific subtopic tags for the provided chat history in JSON format.\n\n---\n\n## Step-by-Step Execution Plan\n\n### **Step 1: Content Analysis - Identify Primary Domains**\n- **Tool:** `code_agent`\n- **Input:** Chat history text (user query about Greenland critical materials + assistant's research plan)\n- **Action:** Parse chat content to extract key terms, topics, and domains\n- **Expected Output:** \n  - List of identified high-level domains (Science, Technology, Business, Politics, etc.)\n  - Frequency/prominence score for each domain\n  - Primary language confirmation (English)\n\n### **Step 2: Thematic Mapping - Broad Categories**\n- **Tool:** `code_agent`\n- **Input:** Domain analysis results from Step 1\n- **Action:** \n  - Map identified themes to standard high-level categories\n  - Rank by relevance to conversation content\n  - Select top 2-3 broad tags\n- **Expected Output:** \n  - Ranked list of broad domain tags\n  - Justification for each selection (e.g., \"Business\" - supply chain/economic analysis; \"Technology\" - materials science)\n\n### **Step 3: Subtopic Extraction - Specific Focus Areas**\n- **Tool:** `code_agent`\n- **Input:** Chat history + broad tags from Step 2\n- **Action:**\n  - Extract specific subject matter (critical materials, Greenland, supply chain, etc.)\n  - Identify recurring concepts and technical terms\n  - Generate 2-3 specific subtopic tags\n- **Expected Output:**\n  - List of specific subtopic candidates\n  - Relevance scoring for each subtopic\n  - Selected top 2-3 subtopic tags\n\n### **Step 4: Validation Against Guidelines**\n- **Tool:** `code_agent`\n- **Input:** Selected broad + subtopic tags from Steps 2-3\n- **Action:** Verify compliance with all guidelines:\n  - \u2713 Content length check (>3 messages or focused topic)\n  - \u2713 Language appropriateness (English)\n  - \u2713 Accuracy over specificity principle\n  - \u2713 Total tag count: 2-6 tags (1-3 broad + 1-3 specific)\n- **Expected Output:** \n  - Validation report\n  - Any necessary adjustments to tag selection\n\n### **Step 5: JSON Output Generation**\n- **Tool:** `code_agent`\n- **Input:** Validated tag list from Step 4\n- **Action:** \n  - Format tags in required JSON structure\n  - Order tags appropriately (broad first, then specific)\n  - Ensure proper JSON syntax\n- **Expected Output:** \n```json\n{\n  \"tags\": [\"Broad1\", \"Broad2\", \"Specific1\", \"Specific2\", \"Specific3\"]\n}\n```\n\n### **Step 6: Final Verification and Delivery**\n- **Tool:** `code_agent`\n- **Input:** Generated JSON from Step 5\n- **Action:** \n  - Validate JSON format\n  - Confirm tag relevance to chat content\n  - Prepare final output with rationale\n- **Expected Output:** \n  - Valid JSON object with tags\n  - Brief explanation of tag selection reasoning\n\n---\n\n## Expected Deliverable\n\n**Final Output Format:**\n```json\n{\n  \"tags\": [\"Business\", \"Technology\", \"Critical Materials\", \"Supply Chain\", \"Geopolitics\"]\n}\n```\n\n**Supporting Documentation:**\n- Rationale for each tag selection\n- Confidence level in categorization\n- Alternative tag considerations (if applicable)\n\n---\n\n**Estimated Execution Time:** 2-3 minutes  \n**Primary Tool:** `code_agent` (text analysis and JSON generation)  \n**Complexity Level:** Low (straightforward categorization task)\n\n---\n\n**Ready to proceed?** Reply **'approve'** to execute this plan, or **'reject'** to cancel.",
  "steps": [],
  "estimated_tools": []
}